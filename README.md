# Бот службы поддержки "Игры глаголов"

Бот службы поддержки компании "Игры глаголов" с функцией распознавания сообщений (DialogFlow) для Телеграмма и VK.

## Запуск

- Скачайте код
- Установите зависимости командой  
```pip install -r requirements.txt```
- Запустите бота для Телеграмм командой  
```python3 telegram-bot.py```
- Запустите бота для VK командой  
```python3 vk-bot.py```

## Загрузка обучающих фраз для Dialogflow

- Для загрузки обучающих фраз запустите программу командой
```python3 create-intent.py questions.json```
Команда принимает обязательный параметр `path_to_file` - ссылку на json файл с обучающими фразами.
Пример json файла:
```json
{
    "Название категории": {
        "questions": [
            "Вопрос 1",
            "Вопрос 2",
            "Вопрос 3",
        ],
        "answer": "Ответ"
    }}
```

## Переменные окружения

Для корректной работы кода, необходимы обязательные переменные окружения. Чтобы их определить, создайте файл `.env` рядом с `main.py` и запишите туда данные в таком формате: `ПЕРЕМЕННАЯ=значение`.

* `TELEGRAM_BOT_TOKEN` - токен Telegram бота, можно получить у [BotFather](https://t.me/botfather#:~:text=BotFather%20is%20the%20one%20bot,BotFather%20right%20away.) при регистрации бота;
* `LOGGER_BOT_TOKEN` - токен Telegram бота для отображения логов.
* `TELEGRAM_CHAT_ID` - идентификатор пользователя в Telegram (нужно для логгер бота).
* `GOOGLE_PROJECT_ID` - идентификатор проекта Google для работы Dialoglow.
* `GOOGLE_APPLICATION_CREDENTIALS` - ссылка на json файл с пользовательскими данными для доступа к Service аккаунту в Google.
* `VK_GROUP_TOKEN` - токен API для группы в VK. У бота должны быть права на отправку сообщений.

## Цели проекта

Код написан в учебных целях — это урок в курсе по Python и веб-разработке на сайте [Devman](https://dvmn.org).